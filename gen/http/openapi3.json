{"openapi":"3.0.3","info":{"title":"Spin API service","description":"HTTP service for controlling the spin service","version":"1.0"},"servers":[{"url":"http://localhost:8080"}],"paths":{"/add/{id}":{"post":{"tags":["spin-broker"],"summary":"add spin-broker","description":"Add a command to the package","operationId":"spin-broker#add","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"schema":{"type":"string","description":"Package ID","example":"Veniam rerum unde et impedit."},"example":"Repellat quisquam atque debitis quos quisquam nobis."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddRequestBody"},"example":{"action":"Ratione et ex tempore ipsum in.","dependencies":["Itaque tenetur labore quia distinctio aperiam.","Soluta voluptatem minima natus.","Consequatur voluptatem.","Eos iste illum omnis suscipit."],"parameters":{"Doloribus impedit.":"Qui dolor ex consequatur.","Maiores ut voluptatem sed et consectetur.":"Repellat vero.","Ut hic assumenda assumenda ullam qui.":"Quidem qui."},"resource":"Voluptatibus nostrum commodi error omnis quis quia."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"string","example":"In qui eaque omnis odio quia."},"example":"Molestiae sit ullam aut culpa."}}}}}},"/complete":{"post":{"tags":["spin-broker"],"summary":"complete spin-broker","description":"Mark a command as completed with a result status","operationId":"spin-broker#complete","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteRequestBody"},"example":{"id":"Similique corrupti ab soluta vel qui vel.","status":true,"status_reason":"Nihil autem dolorem soluta quisquam."}}}},"responses":{"200":{"description":"OK response."}}}},"/control/shutdown/{id}":{"post":{"tags":["spin-apiserver"],"summary":"control_shutdown spin-apiserver","operationId":"spin-apiserver#control_shutdown","parameters":[{"name":"id","in":"path","description":"ID of VM to shutdown","required":true,"schema":{"type":"integer","description":"ID of VM to shutdown","example":17491568033483232509},"example":415964318477427352}],"responses":{"200":{"description":"OK response."}}}},"/control/start/{id}":{"post":{"tags":["spin-apiserver"],"summary":"control_start spin-apiserver","operationId":"spin-apiserver#control_start","parameters":[{"name":"id","in":"path","description":"ID of VM to start","required":true,"schema":{"type":"integer","description":"ID of VM to start","example":5328435223035922268},"example":8245906606478401848}],"responses":{"200":{"description":"OK response."}}}},"/control/stop/{id}":{"post":{"tags":["spin-apiserver"],"summary":"control_stop spin-apiserver","operationId":"spin-apiserver#control_stop","parameters":[{"name":"id","in":"path","description":"ID of VM to stop","required":true,"schema":{"type":"integer","description":"ID of VM to stop","example":1920824715636185106},"example":16674491475849234238}],"responses":{"200":{"description":"OK response."}}}},"/enqueue/{id}":{"post":{"tags":["spin-broker"],"summary":"enqueue spin-broker","description":"Enqueue the package into the various resource queues","operationId":"spin-broker#enqueue","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"schema":{"type":"string","description":"Package ID","example":"Dicta error dolores reprehenderit voluptatibus aliquam illo."},"example":"Sint et asperiores sequi."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string","example":"Deserunt fuga omnis dignissimos."},"example":["Necessitatibus voluptas quae autem illum enim.","Soluta omnis deleniti autem ex tempora fugit.","Aliquid aliquam vel sit sit.","Harum aliquam."]},"example":["Deserunt et.","Expedita libero rerum.","Dolor similique reiciendis maxime dolorum."]}}}}}},"/new":{"post":{"tags":["spin-broker"],"summary":"new spin-broker","description":"Create a new package; a collection of items to join into the queue simultaneously","operationId":"spin-broker#new","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"string","example":"Vel in modi rerum."},"example":"Et quidem dicta vero."}}}}}},"/next/{resource}":{"get":{"tags":["spin-broker"],"summary":"next spin-broker","description":"Get the next command for a given resource","operationId":"spin-broker#next","parameters":[{"name":"resource","in":"path","description":"resource type","required":true,"schema":{"type":"string","description":"resource type","example":"Minima quo enim et tenetur autem."},"example":"Adipisci in quia cum autem."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NextResponseBody"},"example":{"action":"Qui error modi magni.","parameters":{"Et nobis quia neque excepturi.":"Expedita a.","Et voluptatibus et et occaecati qui.":"Dolore soluta consectetur adipisci quia.","Nihil vitae nesciunt.":"Assumenda pariatur."},"resource":"Fugit quis.","uuid":"Aut minima recusandae et."}}}},"400":{"description":"No records were found","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"id":"3F1FKVRR","message":"Value of ID must be an integer","name":"bad_request"}}}}}}},"/status/{id}":{"get":{"tags":["spin-broker"],"summary":"status spin-broker","description":"Get the status for a package","operationId":"spin-broker#status","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"schema":{"type":"string","description":"Package ID","example":"Minus neque corporis omnis corporis sunt."},"example":"Sunt suscipit et laudantium natus sed et."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseBody"},"example":{"causer":"Dicta id sint rerum rerum.","reason":"Vero amet quia quis omnis suscipit est.","status":true}}}},"400":{"description":"No records were found","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"},"example":{"id":"3F1FKVRR","message":"Value of ID must be an integer","name":"bad_request"}}}}}}},"/storage/images/create":{"post":{"tags":["spin-registry"],"summary":"storage_images_create spin-registry","description":"add an image definition to the registry","operationId":"spin-registry#storage_images_create","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"string","example":"Molestiae voluptatem quos inventore aut.","format":"binary"},"example":"Veniam ut voluptatibus modi quo est."}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"string","example":"Eaque perferendis et quisquam odio.","format":"binary"},"example":"Ut vitae a non illum modi."}}}}}},"/storage/images/delete":{"post":{"tags":["spin-registry"],"summary":"storage_images_delete spin-registry","description":"remove an image definition from the registry","operationId":"spin-registry#storage_images_delete","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageImagesDeleteRequestBody"},"example":{"image_name":"Nihil eius molestiae.","volume_name":"Assumenda soluta repellendus eaque neque vel accusamus."}}}},"responses":{"200":{"description":"OK response."}}}},"/storage/images/get":{"get":{"tags":["spin-registry"],"summary":"storage_images_get spin-registry","description":"retrieves an image definition from the registry","operationId":"spin-registry#storage_images_get","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageImagesDeleteRequestBody"},"example":{"image_name":"Ex natus dicta aliquid sint provident sint.","volume_name":"Consequatur nemo autem ab delectus amet."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"string","example":"Omnis cum id asperiores ex id a.","format":"binary"},"example":"Est quia temporibus nam ex incidunt."}}}}}},"/storage/images/list":{"get":{"tags":["spin-registry"],"summary":"storage_images_list spin-registry","description":"list all images by volume","operationId":"spin-registry#storage_images_list","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageImagesListRequestBody"},"example":{"volume_name":"Mollitia eius hic."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string","example":"Veniam fugit in."},"example":["Cupiditate odit commodi veniam corrupti reiciendis consequatur.","Aut laborum at."]},"example":["Fugit rem totam est.","Earum nisi sed.","Quibusdam non neque magnam.","Est ea."]}}}}}},"/storage/volumes/create":{"post":{"tags":["spin-registry"],"summary":"storage_volumes_create spin-registry","description":"create a new volume","operationId":"spin-registry#storage_volumes_create","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageVolumesCreateRequestBody"},"example":{"name":"Fugit incidunt tempora.","path":"Sed quae ea."}}}},"responses":{"200":{"description":"OK response."}}}},"/storage/volumes/delete":{"post":{"tags":["spin-registry"],"summary":"storage_volumes_delete spin-registry","description":"delete an existing volume","operationId":"spin-registry#storage_volumes_delete","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageVolumesDeleteRequestBody"},"example":{"name":"Tempore voluptate voluptas."}}}},"responses":{"200":{"description":"OK response."}}}},"/storage/volumes/list":{"get":{"tags":["spin-registry"],"summary":"storage_volumes_list spin-registry","description":"list all volumes","operationId":"spin-registry#storage_volumes_list","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"object","example":{"Enim et aut.":"Reprehenderit dolorum non qui.","Et vel corporis rerum.":"Officiis accusamus rerum facilis architecto.","Temporibus placeat odio ea.":"Minima cum quae voluptas et."},"additionalProperties":true},"example":{"Cumque iusto sapiente reprehenderit molestiae quia.":"Eaque perferendis mollitia officiis officiis quia.","Id neque officiis.":"Nostrum magnam.","Tenetur non.":"Laboriosam dicta modi aperiam dignissimos."}}}}}}},"/vm/create":{"post":{"tags":["spin-registry"],"summary":"vm_create spin-registry","description":"Create a VM","operationId":"spin-registry#vm_create","requestBody":{"description":"vm type","required":true,"content":{"application/json":{"schema":{"type":"string","description":"vm type","example":"Dicta iusto tenetur qui ipsa et.","format":"binary"},"example":"Voluptatem est molestiae accusamus aperiam."}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"integer","example":7819193585994109174},"example":5592985730984485050}}}}}},"/vm/delete/{id}":{"post":{"tags":["spin-registry"],"summary":"vm_delete spin-registry","description":"Delete a VM by ID","operationId":"spin-registry#vm_delete","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"schema":{"type":"integer","description":"ID of VM to remove","example":5277711830784082201},"example":7028525286789769943}],"responses":{"200":{"description":"OK response."}}}},"/vm/get/{id}":{"get":{"tags":["spin-registry"],"summary":"vm_get spin-registry","description":"Retrieve a VM by ID","operationId":"spin-registry#vm_get","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"schema":{"type":"integer","description":"ID of VM to remove","example":17668748223697724556},"example":4470388476282511101}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"string","description":"vm type","example":"Iusto quam non ratione fugiat distinctio eveniet.","format":"binary"},"example":"Ducimus esse quaerat aut repellendus et."}}}}}},"/vm/list":{"get":{"tags":["spin-registry"],"summary":"vm_list spin-registry","description":"Retrieve all VM IDs","operationId":"spin-registry#vm_list","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"array","items":{"type":"integer","example":7091906110773011240},"example":[7475481607211065162,10962833320592094436,8598373107254708028]},"example":[16944010928389481905,7917983425591819512]}}}}},"post":{"tags":["spin-apiserver"],"summary":"vm_list spin-apiserver","operationId":"spin-apiserver#vm_list","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"array","items":{"type":"integer","example":5739959109017446755},"example":[827813068308857193,2639635305187102420,7717241618626157427,13249802869037512027]},"example":[9176697114519538264,15472419377577377155]}}}}}},"/vm/update/{id}":{"post":{"tags":["spin-registry"],"summary":"vm_update spin-registry","description":"Update a VM","operationId":"spin-registry#vm_update","parameters":[{"name":"id","in":"path","description":"ID of VM to update","required":true,"schema":{"type":"integer","description":"ID of VM to update","example":3625584533547037605},"example":13868337230831774531}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VMUpdateRequestBody"},"example":{"vm":"Nulla numquam rerum asperiores corporis aut enim."}}}},"responses":{"200":{"description":"OK response."}}}}},"components":{"schemas":{"AddRequestBody":{"type":"object","properties":{"action":{"type":"string","description":"Action name","example":"Deleniti incidunt."},"dependencies":{"type":"array","items":{"type":"string","example":"Sint et nesciunt et molestiae soluta ut."},"description":"Dependency UUIDs","example":["Totam omnis molestiae.","Rerum libero quas.","Tempore iste voluptatem est.","Deserunt blanditiis consequatur consequuntur praesentium consequatur."]},"parameters":{"type":"object","description":"Action parameters","example":{"Tempora quisquam inventore inventore qui nihil.":"Natus consectetur."},"additionalProperties":true},"resource":{"type":"string","description":"Resource name","example":"Ut veritatis aut."}},"example":{"action":"Accusantium labore.","dependencies":["Accusantium ut itaque odio explicabo perferendis quaerat.","Quia sit cum adipisci tempora qui eligendi.","Rerum hic."],"parameters":{"Ab nulla quis exercitationem voluptatem.":"Dicta consequuntur tempora.","Minima omnis.":"Culpa ut quidem aut et qui porro.","Quibusdam minus expedita doloremque et iusto fugit.":"Similique aliquid corrupti amet numquam sed totam."},"resource":"Sunt iusto harum."},"required":["resource","action"]},"CompleteRequestBody":{"type":"object","properties":{"id":{"type":"string","description":"Command ID","example":"Quos maxime ut error facilis modi autem."},"status":{"type":"boolean","description":"status of work","example":false},"status_reason":{"type":"string","description":"reason of success/failure","example":"Nam aut deserunt modi qui."}},"example":{"id":"Placeat rem ullam.","status":false,"status_reason":"At ut veritatis expedita voluptatem reiciendis."},"required":["id","status"]},"Error":{"type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"example":{"id":"3F1FKVRR","message":"Value of ID must be an integer","name":"bad_request"},"required":["name","id","message","temporary","timeout","fault"]},"NextResponseBody":{"type":"object","properties":{"action":{"type":"string","description":"action name","example":"Fugit facere."},"parameters":{"type":"object","description":"Action parameters","example":{"Libero ea repudiandae.":"Ut ut optio nemo dolor doloremque similique.","Veniam iusto sint.":"Voluptatem recusandae unde."},"additionalProperties":true},"resource":{"type":"string","description":"resource type","example":"Ut modi sint quo."},"uuid":{"type":"string","description":"Command ID","example":"Consequatur ut sed fugiat."}},"example":{"action":"Voluptas omnis asperiores qui.","parameters":{"Est nulla eum.":"Cupiditate neque eos aperiam.","Sunt doloremque.":"Sint ut perspiciatis."},"resource":"In voluptas laborum corrupti magnam quis.","uuid":"Commodi nihil error ipsum minima fugit vero."},"required":["uuid","resource","action"]},"StatusResponseBody":{"type":"object","properties":{"causer":{"type":"string","description":"Failure causer as UUID (if any)","example":"Dolores ut est quia nemo suscipit alias."},"reason":{"type":"string","description":"Failure reason (if any)","example":"Dignissimos optio."},"status":{"type":"boolean","description":"Pass/Fail status","example":false}},"example":{"causer":"Mollitia est aliquam.","reason":"Ut id aut dolores.","status":true},"required":["status"]},"StorageImagesDeleteRequestBody":{"type":"object","properties":{"image_name":{"type":"string","description":"name of image","example":"Deserunt et dolorem quis dolores laborum ut."},"volume_name":{"type":"string","description":"name of volume","example":"Sed ducimus ratione doloremque molestias enim architecto."}},"example":{"image_name":"Voluptas sapiente ipsam.","volume_name":"Sed expedita aspernatur illo eligendi modi."},"required":["volume_name","image_name"]},"StorageImagesListRequestBody":{"type":"object","properties":{"volume_name":{"type":"string","description":"name of volume to list images for","example":"Hic unde assumenda praesentium similique."}},"example":{"volume_name":"Eum nihil dicta optio."},"required":["volume_name"]},"StorageVolumesCreateRequestBody":{"type":"object","properties":{"name":{"type":"string","description":"name of volume","example":"Tempora fugit qui doloremque."},"path":{"type":"string","description":"path to volume","example":"Eius corporis occaecati aut adipisci."}},"example":{"name":"Facere reprehenderit consequuntur inventore reiciendis tempora est.","path":"Et quia consequatur magnam officia."},"required":["name","path"]},"StorageVolumesDeleteRequestBody":{"type":"object","properties":{"name":{"type":"string","description":"name of volume","example":"Ex vel ipsum autem et et."}},"example":{"name":"Officiis officiis."},"required":["name"]},"VMUpdateRequestBody":{"type":"object","properties":{"vm":{"type":"string","description":"VM Manifest to Update","example":"Ipsum natus quasi quia.","format":"binary"}},"example":{"vm":"Ut suscipit cupiditate cumque ratione occaecati."},"required":["vm"]}}}}