{"swagger":"2.0","info":{"title":"Spin API service","description":"HTTP service for controlling the spin service","version":""},"host":"localhost:8080","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/add/{id}":{"post":{"tags":["spin-broker"],"summary":"add spin-broker","description":"Add a command to the package","operationId":"spin-broker#add","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"},{"name":"AddRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerAddRequestBody","required":["resource","action"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/complete":{"post":{"tags":["spin-broker"],"summary":"complete spin-broker","description":"Mark a command as completed with a result status","operationId":"spin-broker#complete","parameters":[{"name":"CompleteRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerCompleteRequestBody","required":["id","status"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/enqueue/{id}":{"post":{"tags":["spin-broker"],"summary":"enqueue spin-broker","description":"Enqueue the package into the various resource queues","operationId":"spin-broker#enqueue","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Qui provident."}}}},"schemes":["http"]}},"/new":{"post":{"tags":["spin-broker"],"summary":"new spin-broker","description":"Create a new package; a collection of items to join into the queue simultaneously","operationId":"spin-broker#new","responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/next/{resource}":{"get":{"tags":["spin-broker"],"summary":"next spin-broker","description":"Get the next command for a given resource","operationId":"spin-broker#next","parameters":[{"name":"resource","in":"path","description":"resource type","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerNextResponseBody","required":["uuid","resource","action"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerNextRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/status/{id}":{"get":{"tags":["spin-broker"],"summary":"status spin-broker","description":"Get the status for a package","operationId":"spin-broker#status","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerStatusResponseBody","required":["status"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerStatusRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/storage/volume/add":{"post":{"tags":["spin-apiserver"],"summary":"add_volume spin-apiserver","description":"Add a volume for image allocation with backing storage, and name it","operationId":"spin-apiserver#add_volume","parameters":[{"name":"add_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverAddVolumeRequestBody","required":["volume","path"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/create":{"post":{"tags":["spin-apiserver"],"summary":"create_image_on_volume spin-apiserver","description":"Create an image on a volume","operationId":"spin-apiserver#create_image_on_volume","parameters":[{"name":"create_image_on_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverCreateImageOnVolumeRequestBody","required":["image_name","image_size","volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/delete":{"post":{"tags":["spin-apiserver"],"summary":"delete_image_on_volume spin-apiserver","description":"Delete an image on a volume","operationId":"spin-apiserver#delete_image_on_volume","parameters":[{"name":"delete_image_on_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverDeleteImageOnVolumeRequestBody","required":["image_name","volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/info/{volume}/{image_name}":{"get":{"tags":["spin-apiserver"],"summary":"info_image_on_volume spin-apiserver","description":"Obtain information on an image","operationId":"spin-apiserver#info_image_on_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"},{"name":"image_name","in":"path","description":"image name","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/move":{"post":{"tags":["spin-apiserver"],"summary":"move_image spin-apiserver","description":"Move an image from one volume to another","operationId":"spin-apiserver#move_image","parameters":[{"name":"move_image_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverMoveImageRequestBody","required":["image_name","volume","target_volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/resize":{"post":{"tags":["spin-apiserver"],"summary":"resize_image_on_volume spin-apiserver","description":"Resize an image on a volume","operationId":"spin-apiserver#resize_image_on_volume","parameters":[{"name":"resize_image_on_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverResizeImageOnVolumeRequestBody","required":["image_name","image_size","volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/info/{volume}":{"get":{"tags":["spin-apiserver"],"summary":"info_volume spin-apiserver","description":"Get information on a volume","operationId":"spin-apiserver#info_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/label/{volume}/{label}":{"post":{"tags":["spin-apiserver"],"summary":"label_volume spin-apiserver","description":"Apply a label to a volume.","operationId":"spin-apiserver#label_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"},{"name":"label","in":"path","description":"label identifier to apply to volume","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/remove/{volume}":{"post":{"tags":["spin-apiserver"],"summary":"remove_volume spin-apiserver","description":"Remove a volume. Requires all images to be removed.","operationId":"spin-apiserver#remove_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}}},"definitions":{"SpinApiserverAddVolumeRequestBody":{"title":"SpinApiserverAddVolumeRequestBody","type":"object","properties":{"path":{"type":"string","description":"path to backing storage","example":"Esse labore voluptas."},"volume":{"type":"string","description":"volume identifier","example":"Rerum rerum porro eius."}},"example":{"path":"Aut minima recusandae et.","volume":"Ea iusto adipisci sapiente temporibus."},"required":["volume","path"]},"SpinApiserverCreateImageOnVolumeRequestBody":{"title":"SpinApiserverCreateImageOnVolumeRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Fugit quis."},"image_size":{"type":"integer","description":"image size in GB","example":18117003792351848781,"format":"int64"},"volume":{"type":"string","description":"volume identifier","example":"Error modi magni voluptas corrupti et."}},"example":{"image_name":"Et et occaecati.","image_size":8308809769684407427,"volume":"Dolore soluta consectetur adipisci quia."},"required":["image_name","image_size","volume"]},"SpinApiserverDeleteImageOnVolumeRequestBody":{"title":"SpinApiserverDeleteImageOnVolumeRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Nihil vitae nesciunt."},"volume":{"type":"string","description":"volume identifier","example":"Assumenda pariatur."}},"example":{"image_name":"Et nobis quia neque excepturi.","volume":"Expedita a."},"required":["image_name","volume"]},"SpinApiserverMoveImageRequestBody":{"title":"SpinApiserverMoveImageRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Rerum asperiores corporis aut."},"target_volume":{"type":"string","description":"volume identifier to move to","example":"Quia reprehenderit vitae."},"volume":{"type":"string","description":"volume identifier","example":"In ipsa enim non maxime est."}},"example":{"image_name":"Aut adipisci.","target_volume":"Alias vel.","volume":"Amet et id."},"required":["image_name","volume","target_volume"]},"SpinApiserverResizeImageOnVolumeRequestBody":{"title":"SpinApiserverResizeImageOnVolumeRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Similique corrupti ab soluta vel qui vel."},"image_size":{"type":"integer","description":"new image size; must be larger than original size","example":7281469901257479230,"format":"int64"},"volume":{"type":"string","description":"volume identifier","example":"Nihil autem dolorem soluta quisquam."}},"example":{"image_name":"Sit ratione molestiae asperiores ut.","image_size":4544141496920960600,"volume":"Sit ab quo et quis quidem nulla."},"required":["image_name","image_size","volume"]},"SpinBrokerAddRequestBody":{"title":"SpinBrokerAddRequestBody","type":"object","properties":{"action":{"type":"string","description":"Action name","example":"Et ipsa."},"parameters":{"type":"object","description":"Action parameters","example":{"Aliquam sit necessitatibus pariatur quam.":"Velit ut ea excepturi.","Facilis ad quod.":"Quia facere.","Sunt nesciunt natus dolorem.":"Vel tempora est."},"additionalProperties":true},"resource":{"type":"string","description":"Resource name","example":"Vitae cupiditate veniam atque accusamus."}},"example":{"action":"Vel fugit incidunt tempora.","parameters":{"Et cum.":"In illo iure.","Quae ea ex tempore.":"Voluptas rerum mollitia eius hic expedita ut.","Voluptas minima nostrum qui perferendis rerum molestias.":"Qui laborum."},"resource":"Quis aut quis vel."},"required":["resource","action"]},"SpinBrokerCompleteRequestBody":{"title":"SpinBrokerCompleteRequestBody","type":"object","properties":{"id":{"type":"string","description":"Command ID","example":"Est enim aperiam."},"status":{"type":"boolean","description":"status of work","example":false},"status_reason":{"type":"string","description":"reason of success/failure","example":"Aut dolores."}},"example":{"id":"Excepturi ut quo ipsum ea.","status":true,"status_reason":"Enim autem doloribus sunt ut quos."},"required":["id","status"]},"SpinBrokerNextRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"next_record_not_found_response_body result type (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerNextResponseBody":{"title":"SpinBrokerNextResponseBody","type":"object","properties":{"action":{"type":"string","description":"action name","example":"Eaque neque."},"parameters":{"type":"object","description":"parameters for action","example":{"Beatae nihil.":"Molestiae quaerat."},"additionalProperties":true},"resource":{"type":"string","description":"resource type","example":"Natus tempore distinctio laudantium consectetur assumenda soluta."},"uuid":{"type":"string","description":"Command ID","example":"Officia voluptatem ipsam dicta accusantium magnam in."}},"example":{"action":"Provident sint ut facilis.","parameters":{"Quaerat iusto non quae et aut.":"A quas velit adipisci rerum illo."},"resource":"Natus dicta aliquid.","uuid":"Nemo autem ab delectus amet magnam."},"required":["uuid","resource","action"]},"SpinBrokerStatusRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"status_record_not_found_response_body result type (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerStatusResponseBody":{"title":"SpinBrokerStatusResponseBody","type":"object","properties":{"reason":{"type":"string","description":"Failure reason (if any)","example":"Sapiente ut."},"status":{"type":"boolean","description":"Pass/Fail status","example":false}},"example":{"reason":"Quod tempora consequatur ut.","status":true},"required":["status"]}}}