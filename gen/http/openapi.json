{"swagger":"2.0","info":{"title":"Spin API service","description":"HTTP service for controlling the spin service","version":""},"host":"localhost:8080","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/add/{id}":{"post":{"tags":["spin-broker"],"summary":"add spin-broker","description":"Add a command to the package","operationId":"spin-broker#add","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"},{"name":"AddRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerAddRequestBody","required":["resource","action"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/complete":{"post":{"tags":["spin-broker"],"summary":"complete spin-broker","description":"Mark a command as completed with a result status","operationId":"spin-broker#complete","parameters":[{"name":"CompleteRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerCompleteRequestBody","required":["id","status"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/create":{"post":{"tags":["spin-registry"],"summary":"create spin-registry","description":"Create a VM","operationId":"spin-registry#create","parameters":[{"name":"CreateRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryCreateRequestBody","required":["name","cpus","memory","storage"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"integer","format":"int64"}}},"schemes":["http"]}},"/delete/{id}":{"post":{"tags":["spin-registry"],"summary":"delete spin-registry","description":"Delete a VM by ID","operationId":"spin-registry#delete","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/enqueue/{id}":{"post":{"tags":["spin-broker"],"summary":"enqueue spin-broker","description":"Enqueue the package into the various resource queues","operationId":"spin-broker#enqueue","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Non quis quae nihil."}}}},"schemes":["http"]}},"/get/{id}":{"get":{"tags":["spin-registry"],"summary":"get spin-registry","description":"Retrieve a VM by ID","operationId":"spin-registry#get","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinRegistryGetResponseBody","required":["name","cpus","memory","storage"]}}},"schemes":["http"]}},"/list":{"get":{"tags":["spin-registry"],"summary":"list spin-registry","description":"Retrieve all VM IDs","operationId":"spin-registry#list","responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"integer","example":5173812223221144089,"format":"int64"}}}},"schemes":["http"]}},"/new":{"post":{"tags":["spin-broker"],"summary":"new spin-broker","description":"Create a new package; a collection of items to join into the queue simultaneously","operationId":"spin-broker#new","responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/next/{resource}":{"get":{"tags":["spin-broker"],"summary":"next spin-broker","description":"Get the next command for a given resource","operationId":"spin-broker#next","parameters":[{"name":"resource","in":"path","description":"resource type","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerNextResponseBody","required":["uuid","resource","action"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerNextRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/status/{id}":{"get":{"tags":["spin-broker"],"summary":"status spin-broker","description":"Get the status for a package","operationId":"spin-broker#status","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerStatusResponseBody","required":["status"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerStatusRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/storage/volume/add":{"post":{"tags":["spin-apiserver"],"summary":"add_volume spin-apiserver","description":"Add a volume for image allocation with backing storage, and name it","operationId":"spin-apiserver#add_volume","parameters":[{"name":"add_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverAddVolumeRequestBody","required":["volume","path"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/create":{"post":{"tags":["spin-apiserver"],"summary":"create_image_on_volume spin-apiserver","description":"Create an image on a volume","operationId":"spin-apiserver#create_image_on_volume","parameters":[{"name":"create_image_on_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverCreateImageOnVolumeRequestBody","required":["image_name","image_size","volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/delete":{"post":{"tags":["spin-apiserver"],"summary":"delete_image_on_volume spin-apiserver","description":"Delete an image on a volume","operationId":"spin-apiserver#delete_image_on_volume","parameters":[{"name":"delete_image_on_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverDeleteImageOnVolumeRequestBody","required":["image_name","volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/info/{volume}/{image_name}":{"get":{"tags":["spin-apiserver"],"summary":"info_image_on_volume spin-apiserver","description":"Obtain information on an image","operationId":"spin-apiserver#info_image_on_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"},{"name":"image_name","in":"path","description":"image name","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/move":{"post":{"tags":["spin-apiserver"],"summary":"move_image spin-apiserver","description":"Move an image from one volume to another","operationId":"spin-apiserver#move_image","parameters":[{"name":"move_image_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverMoveImageRequestBody","required":["image_name","volume","target_volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/resize":{"post":{"tags":["spin-apiserver"],"summary":"resize_image_on_volume spin-apiserver","description":"Resize an image on a volume","operationId":"spin-apiserver#resize_image_on_volume","parameters":[{"name":"resize_image_on_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverResizeImageOnVolumeRequestBody","required":["image_name","image_size","volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/info/{volume}":{"get":{"tags":["spin-apiserver"],"summary":"info_volume spin-apiserver","description":"Get information on a volume","operationId":"spin-apiserver#info_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/label/{volume}/{label}":{"post":{"tags":["spin-apiserver"],"summary":"label_volume spin-apiserver","description":"Apply a label to a volume.","operationId":"spin-apiserver#label_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"},{"name":"label","in":"path","description":"label identifier to apply to volume","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/remove/{volume}":{"post":{"tags":["spin-apiserver"],"summary":"remove_volume spin-apiserver","description":"Remove a volume. Requires all images to be removed.","operationId":"spin-apiserver#remove_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/update/{id}":{"post":{"tags":["spin-registry"],"summary":"update spin-registry","description":"Update a VM","operationId":"spin-registry#update","parameters":[{"name":"id","in":"path","description":"ID of VM to update","required":true,"type":"integer"},{"name":"UpdateRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryUpdateRequestBody","required":["name","cpus","memory","storage"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}}},"definitions":{"SpinApiserverAddVolumeRequestBody":{"title":"SpinApiserverAddVolumeRequestBody","type":"object","properties":{"path":{"type":"string","description":"path to backing storage","example":"Vel ratione vitae cupiditate veniam."},"volume":{"type":"string","description":"volume identifier","example":"Adipisci recusandae amet et id et."}},"example":{"path":"Aliquam sit necessitatibus pariatur quam.","volume":"Accusamus velit et ipsa at."},"required":["volume","path"]},"SpinApiserverCreateImageOnVolumeRequestBody":{"title":"SpinApiserverCreateImageOnVolumeRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Velit ut ea excepturi."},"image_size":{"type":"integer","description":"image size in GB","example":7318153670735085457,"format":"int64"},"volume":{"type":"string","description":"volume identifier","example":"Ad quod commodi."}},"example":{"image_name":"Facere quasi sunt nesciunt natus dolorem nemo.","image_size":17587025896877711169,"volume":"Est optio quis aut."},"required":["image_name","image_size","volume"]},"SpinApiserverDeleteImageOnVolumeRequestBody":{"title":"SpinApiserverDeleteImageOnVolumeRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Vel officia vel fugit incidunt tempora temporibus."},"volume":{"type":"string","description":"volume identifier","example":"Quae ea ex tempore."}},"example":{"image_name":"Voluptas rerum mollitia eius hic expedita ut.","volume":"Et cum."},"required":["image_name","volume"]},"SpinApiserverMoveImageRequestBody":{"title":"SpinApiserverMoveImageRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Ut sint officia quod tempora consequatur ut."},"target_volume":{"type":"string","description":"volume identifier to move to","example":"Ipsam dicta accusantium."},"volume":{"type":"string","description":"volume identifier","example":"Impedit laboriosam et dolorum tempora inventore officia."}},"example":{"image_name":"In ea natus tempore.","target_volume":"Eaque neque.","volume":"Laudantium consectetur assumenda soluta."},"required":["image_name","volume","target_volume"]},"SpinApiserverResizeImageOnVolumeRequestBody":{"title":"SpinApiserverResizeImageOnVolumeRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"In illo iure."},"image_size":{"type":"integer","description":"new image size; must be larger than original size","example":17192397419171730019,"format":"int64"},"volume":{"type":"string","description":"volume identifier","example":"Minima nostrum."}},"example":{"image_name":"Perferendis rerum molestias.","image_size":11387401285549308839,"volume":"Laborum quia qui provident esse laboriosam."},"required":["image_name","image_size","volume"]},"SpinBrokerAddRequestBody":{"title":"SpinBrokerAddRequestBody","type":"object","properties":{"action":{"type":"string","description":"Action name","example":"Molestiae quaerat."},"parameters":{"type":"object","description":"Action parameters","example":{"Aut sit a quas velit.":"Rerum illo ratione totam quia.","Autem ab delectus.":"Magnam ex natus dicta aliquid sint.","Sint ut facilis nobis quo.":"Iusto non quae."},"additionalProperties":true},"resource":{"type":"string","description":"Resource name","example":"Accusamus beatae nihil."}},"example":{"action":"Aut dolores.","parameters":{"Doloribus sunt ut quos odio ut ex.":"Quod distinctio voluptatibus sint.","Ut quo ipsum.":"Deleniti facilis enim."},"resource":"Deleniti illum quod est enim aperiam laborum."},"required":["resource","action"]},"SpinBrokerCompleteRequestBody":{"title":"SpinBrokerCompleteRequestBody","type":"object","properties":{"id":{"type":"string","description":"Command ID","example":"Sit nihil libero libero commodi placeat exercitationem."},"status":{"type":"boolean","description":"status of work","example":false},"status_reason":{"type":"string","description":"reason of success/failure","example":"Totam quasi eligendi quod voluptas."}},"example":{"id":"Cum sequi voluptatem culpa unde ut.","status":false,"status_reason":"Ut illum nulla repudiandae eos."},"required":["id","status"]},"SpinBrokerNextRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"next_record_not_found_response_body result type (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerNextResponseBody":{"title":"SpinBrokerNextResponseBody","type":"object","properties":{"action":{"type":"string","description":"action name","example":"Incidunt quae est velit eaque mollitia."},"parameters":{"type":"object","description":"parameters for action","example":{"Similique qui qui.":"Minima nemo omnis quia deleniti."},"additionalProperties":true},"resource":{"type":"string","description":"resource type","example":"Itaque omnis fuga."},"uuid":{"type":"string","description":"Command ID","example":"Omnis voluptas quia ut laboriosam."}},"example":{"action":"Sit quaerat.","parameters":{"Dolor cupiditate perspiciatis.":"Quia voluptatem adipisci et provident."},"resource":"Vel enim ut voluptas ullam quas.","uuid":"Qui ea qui omnis qui sit et."},"required":["uuid","resource","action"]},"SpinBrokerStatusRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"status_record_not_found_response_body result type (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerStatusResponseBody":{"title":"SpinBrokerStatusResponseBody","type":"object","properties":{"reason":{"type":"string","description":"Failure reason (if any)","example":"Sunt minima saepe architecto cum."},"status":{"type":"boolean","description":"Pass/Fail status","example":true}},"example":{"reason":"Numquam recusandae ut omnis laboriosam fugit odio.","status":true},"required":["status"]},"SpinRegistryCreateRequestBody":{"title":"SpinRegistryCreateRequestBody","type":"object","properties":{"cpus":{"type":"integer","description":"CPU count","example":13654993227678912479,"format":"int64"},"memory":{"type":"integer","description":"Memory (in megabytes)","example":17170428336381239599,"format":"int64"},"name":{"type":"string","description":"Name of VM; does not need to be unique","example":"Quibusdam error dolorem."},"storage":{"type":"array","items":{"$ref":"#/definitions/StorageRequestBody"},"description":"Storage references","example":[{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."},{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."},{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."}]}},"example":{"cpus":16760411565692141340,"memory":16371545999011268138,"name":"Quos voluptatem qui explicabo quaerat officiis voluptatum.","storage":[{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."},{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."}]},"required":["name","cpus","memory","storage"]},"SpinRegistryGetResponseBody":{"title":"SpinRegistryGetResponseBody","type":"object","properties":{"cpus":{"type":"integer","description":"CPU count","example":13238334249407294809,"format":"int64"},"memory":{"type":"integer","description":"Memory (in megabytes)","example":2591967222747619247,"format":"int64"},"name":{"type":"string","description":"Name of VM; does not need to be unique","example":"Recusandae aliquid blanditiis."},"storage":{"type":"array","items":{"$ref":"#/definitions/StorageResponseBody"},"description":"Storage references","example":[{"image":"Ab quo et.","image_size":2469087966589926793,"volume":"Ut temporibus explicabo."},{"image":"Ab quo et.","image_size":2469087966589926793,"volume":"Ut temporibus explicabo."},{"image":"Ab quo et.","image_size":2469087966589926793,"volume":"Ut temporibus explicabo."},{"image":"Ab quo et.","image_size":2469087966589926793,"volume":"Ut temporibus explicabo."}]}},"example":{"cpus":12582341668664123331,"memory":2754778727539746279,"name":"Temporibus repudiandae inventore cupiditate commodi aut asperiores.","storage":[{"image":"Ab quo et.","image_size":2469087966589926793,"volume":"Ut temporibus explicabo."},{"image":"Ab quo et.","image_size":2469087966589926793,"volume":"Ut temporibus explicabo."},{"image":"Ab quo et.","image_size":2469087966589926793,"volume":"Ut temporibus explicabo."}]},"required":["name","cpus","memory","storage"]},"SpinRegistryUpdateRequestBody":{"title":"SpinRegistryUpdateRequestBody","type":"object","properties":{"cpus":{"type":"integer","description":"CPU count","example":13129230750325158039,"format":"int64"},"memory":{"type":"integer","description":"Memory (in megabytes)","example":2802966637285714696,"format":"int64"},"name":{"type":"string","description":"Name of VM; does not need to be unique","example":"Omnis sed qui sint delectus."},"storage":{"type":"array","items":{"$ref":"#/definitions/StorageRequestBody"},"description":"Storage references","example":[{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."},{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."},{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."},{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."}]}},"example":{"cpus":7538499118460102478,"memory":8388981702620031596,"name":"Nisi molestiae nihil tempora eum officiis sit.","storage":[{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."},{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."},{"image":"Expedita a.","image_size":13160086984666010830,"volume":"Et nobis quia neque excepturi."}]},"required":["name","cpus","memory","storage"]},"StorageRequestBody":{"title":"StorageRequestBody","type":"object","properties":{"image":{"type":"string","description":"Image filename, must not include `/`","example":"Animi saepe."},"image_size":{"type":"integer","description":"Image size (in gigabytes)","example":6325199792409648331,"format":"int64"},"volume":{"type":"string","description":"Volume name, must not include `/`","example":"Impedit autem optio ut quidem numquam provident."}},"example":{"image":"Reiciendis et quisquam ex officia voluptas voluptate.","image_size":6479444625026069939,"volume":"Accusamus veritatis."},"required":["volume","image","image_size"]},"StorageResponseBody":{"title":"StorageResponseBody","type":"object","properties":{"image":{"type":"string","description":"Image filename, must not include `/`","example":"Deserunt dicta eaque reiciendis autem."},"image_size":{"type":"integer","description":"Image size (in gigabytes)","example":2132753266207609840,"format":"int64"},"volume":{"type":"string","description":"Volume name, must not include `/`","example":"Consequuntur voluptas et inventore sed."}},"example":{"image":"Perspiciatis in.","image_size":7651822808426839839,"volume":"Esse blanditiis qui repellendus voluptate."},"required":["volume","image","image_size"]}}}