{"swagger":"2.0","info":{"title":"Spin API service","description":"HTTP service for controlling the spin service","version":""},"host":"localhost:8080","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/add/{id}":{"post":{"tags":["spin-broker"],"summary":"add spin-broker","description":"Add a command to the package","operationId":"spin-broker#add","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"},{"name":"AddRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerAddRequestBody","required":["resource","action"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/complete":{"post":{"tags":["spin-broker"],"summary":"complete spin-broker","description":"Mark a command as completed with a result status","operationId":"spin-broker#complete","parameters":[{"name":"CompleteRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerCompleteRequestBody","required":["id","status"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/control/shutdown/{id}":{"post":{"tags":["spin-apiserver"],"summary":"control_shutdown spin-apiserver","operationId":"spin-apiserver#control_shutdown","parameters":[{"name":"id","in":"path","description":"ID of VM to shutdown","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/control/start/{id}":{"post":{"tags":["spin-apiserver"],"summary":"control_start spin-apiserver","operationId":"spin-apiserver#control_start","parameters":[{"name":"id","in":"path","description":"ID of VM to start","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/control/stop/{id}":{"post":{"tags":["spin-apiserver"],"summary":"control_stop spin-apiserver","operationId":"spin-apiserver#control_stop","parameters":[{"name":"id","in":"path","description":"ID of VM to stop","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/enqueue/{id}":{"post":{"tags":["spin-broker"],"summary":"enqueue spin-broker","description":"Enqueue the package into the various resource queues","operationId":"spin-broker#enqueue","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Cupiditate perspiciatis voluptas quia."}}}},"schemes":["http"]}},"/new":{"post":{"tags":["spin-broker"],"summary":"new spin-broker","description":"Create a new package; a collection of items to join into the queue simultaneously","operationId":"spin-broker#new","responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/next/{resource}":{"get":{"tags":["spin-broker"],"summary":"next spin-broker","description":"Get the next command for a given resource","operationId":"spin-broker#next","parameters":[{"name":"resource","in":"path","description":"resource type","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerNextResponseBody","required":["uuid","resource","action"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerNextRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/status/{id}":{"get":{"tags":["spin-broker"],"summary":"status spin-broker","description":"Get the status for a package","operationId":"spin-broker#status","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerStatusResponseBody","required":["status"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerStatusRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/storage/images/create":{"post":{"tags":["spin-registry"],"summary":"storage_images_create spin-registry","description":"add an image definition to the registry","operationId":"spin-registry#storage_images_create","parameters":[{"name":"any","in":"body","required":true,"schema":{}}],"responses":{"200":{"description":"OK response.","schema":{}}},"schemes":["http"]}},"/storage/images/delete":{"post":{"tags":["spin-registry"],"summary":"storage_images_delete spin-registry","description":"remove an image definition from the registry","operationId":"spin-registry#storage_images_delete","parameters":[{"name":"storage_images_delete_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageImagesDeleteRequestBody","required":["volume_name","image_name"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/images/get":{"get":{"tags":["spin-registry"],"summary":"storage_images_get spin-registry","description":"retrieves an image definition from the registry","operationId":"spin-registry#storage_images_get","parameters":[{"name":"storage_images_get_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageImagesGetRequestBody","required":["volume_name","image_name"]}}],"responses":{"200":{"description":"OK response.","schema":{}}},"schemes":["http"]}},"/storage/images/list":{"get":{"tags":["spin-registry"],"summary":"storage_images_list spin-registry","description":"list all images by volume","operationId":"spin-registry#storage_images_list","parameters":[{"name":"storage_images_list_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageImagesListRequestBody","required":["volume_name"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Illum molestiae voluptates natus."}}}},"schemes":["http"]}},"/storage/volumes/create":{"post":{"tags":["spin-registry"],"summary":"storage_volumes_create spin-registry","description":"create a new volume","operationId":"spin-registry#storage_volumes_create","parameters":[{"name":"storage_volumes_create_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageVolumesCreateRequestBody","required":["name","path"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volumes/delete":{"post":{"tags":["spin-registry"],"summary":"storage_volumes_delete spin-registry","description":"delete an existing volume","operationId":"spin-registry#storage_volumes_delete","parameters":[{"name":"storage_volumes_delete_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageVolumesDeleteRequestBody","required":["name"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volumes/list":{"get":{"tags":["spin-registry"],"summary":"storage_volumes_list spin-registry","description":"list all volumes","operationId":"spin-registry#storage_volumes_list","responses":{"200":{"description":"OK response.","schema":{"type":"object","additionalProperties":true}}},"schemes":["http"]}},"/vm/create":{"post":{"tags":["spin-registry"],"summary":"vm_create spin-registry","description":"Create a VM","operationId":"spin-registry#vm_create","parameters":[{"name":"any","in":"body","description":"vm type","required":true,"schema":{}}],"responses":{"200":{"description":"OK response.","schema":{"type":"integer","format":"int64"}}},"schemes":["http"]}},"/vm/delete/{id}":{"post":{"tags":["spin-registry"],"summary":"vm_delete spin-registry","description":"Delete a VM by ID","operationId":"spin-registry#vm_delete","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/vm/get/{id}":{"get":{"tags":["spin-registry"],"summary":"vm_get spin-registry","description":"Retrieve a VM by ID","operationId":"spin-registry#vm_get","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response.","schema":{}}},"schemes":["http"]}},"/vm/list":{"get":{"tags":["spin-registry"],"summary":"vm_list spin-registry","description":"Retrieve all VM IDs","operationId":"spin-registry#vm_list","responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"integer","example":11574219435560685003,"format":"int64"}}}},"schemes":["http"]},"post":{"tags":["spin-apiserver"],"summary":"vm_list spin-apiserver","operationId":"spin-apiserver#vm_list","responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"integer","example":17355596937229660577,"format":"int64"}}}},"schemes":["http"]}},"/vm/update/{id}":{"post":{"tags":["spin-registry"],"summary":"vm_update spin-registry","description":"Update a VM","operationId":"spin-registry#vm_update","parameters":[{"name":"id","in":"path","description":"ID of VM to update","required":true,"type":"integer"},{"name":"vm_update_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryVMUpdateRequestBody","required":["vm"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}}},"definitions":{"SpinApiserverVMUpdateRequestBody":{"title":"SpinApiserverVMUpdateRequestBody","type":"object","properties":{"vm":{"description":"VM Manifest to Update","example":"Illo ratione totam."}},"example":{"vm":"Quis deleniti illum quod est."},"required":["vm"]},"SpinBrokerAddRequestBody":{"title":"SpinBrokerAddRequestBody","type":"object","properties":{"action":{"type":"string","description":"Action name","example":"Ut quo ipsum."},"dependencies":{"type":"array","items":{"type":"string","example":"Enim quos numquam recusandae ut."},"description":"Dependency UUIDs","example":["Fugit odio excepturi non voluptate.","Qui consectetur nihil omnis voluptas.","Ut laboriosam."]},"parameters":{"type":"object","description":"Action parameters","example":{"Facilis enim autem doloribus sunt ut quos.":"Ut ex molestiae quod distinctio voluptatibus.","Itaque non quis quae.":"Accusantium laboriosam sunt minima saepe architecto."},"additionalProperties":true},"resource":{"type":"string","description":"Resource name","example":"Aperiam laborum sint aut dolores atque."}},"example":{"action":"Incidunt quae est velit eaque mollitia.","dependencies":["Ea qui omnis qui.","Et vel.","Enim ut voluptas ullam quas aliquam.","Quaerat illo molestiae."],"parameters":{"Similique qui qui.":"Minima nemo omnis quia deleniti."},"resource":"Itaque omnis fuga."},"required":["resource","action"]},"SpinBrokerCompleteRequestBody":{"title":"SpinBrokerCompleteRequestBody","type":"object","properties":{"id":{"type":"string","description":"Command ID","example":"Accusantium consequuntur."},"status":{"type":"boolean","description":"status of work","example":false},"status_reason":{"type":"string","description":"reason of success/failure","example":"Inventore sed."}},"example":{"id":"Deserunt dicta eaque reiciendis autem.","status":true,"status_reason":"Esse blanditiis qui repellendus voluptate."},"required":["id","status"]},"SpinBrokerNextRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"next_record_not_found_response_body result type (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerNextResponseBody":{"title":"SpinBrokerNextResponseBody","type":"object","properties":{"action":{"type":"string","description":"action name","example":"Quibusdam error dolorem."},"parameters":{"type":"object","description":"Action parameters","example":{"Aperiam impedit autem.":"Ut quidem numquam provident occaecati animi saepe."},"additionalProperties":true},"resource":{"type":"string","description":"resource type","example":"Illum nulla repudiandae eos."},"uuid":{"type":"string","description":"Command ID","example":"Ut quia aut."}},"example":{"action":"Officia voluptas voluptate.","parameters":{"Animi quos.":"Qui explicabo quaerat officiis.","Deleniti maxime possimus vero omnis sed.":"Sint delectus quis et recusandae nobis.","Molestiae nihil tempora.":"Officiis sit quis itaque."},"resource":"Et quisquam.","uuid":"Commodi accusamus veritatis quos."},"required":["uuid","resource","action"]},"SpinBrokerStatusRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"status_record_not_found_response_body result type (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerStatusResponseBody":{"title":"SpinBrokerStatusResponseBody","type":"object","properties":{"causer":{"type":"string","description":"Failure causer as UUID (if any)","example":"Ea iusto modi aspernatur."},"reason":{"type":"string","description":"Failure reason (if any)","example":"Et provident."},"status":{"type":"boolean","description":"Pass/Fail status","example":false}},"example":{"causer":"Est totam quasi eligendi quod.","reason":"Sit nihil libero libero commodi placeat exercitationem.","status":true},"required":["status"]},"SpinRegistryStorageImagesDeleteRequestBody":{"title":"SpinRegistryStorageImagesDeleteRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"name of image","example":"Reprehenderit quo ab iure nihil."},"volume_name":{"type":"string","description":"name of volume","example":"Reiciendis eveniet repudiandae reiciendis perferendis impedit reiciendis."}},"example":{"image_name":"Est quisquam inventore quae.","volume_name":"Non officiis molestiae nostrum quia quisquam."},"required":["volume_name","image_name"]},"SpinRegistryStorageImagesGetRequestBody":{"title":"SpinRegistryStorageImagesGetRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"name of image","example":"Minima voluptas dolorem et corporis quo dolores."},"volume_name":{"type":"string","description":"name of volume","example":"Nulla sit."}},"example":{"image_name":"Sequi molestiae inventore aut consequatur officiis perspiciatis.","volume_name":"Odit tenetur cupiditate amet fugiat."},"required":["volume_name","image_name"]},"SpinRegistryStorageImagesListRequestBody":{"title":"SpinRegistryStorageImagesListRequestBody","type":"object","properties":{"volume_name":{"type":"string","description":"name of volume to list images for","example":"Qui iusto ex."}},"example":{"volume_name":"Doloremque saepe in."},"required":["volume_name"]},"SpinRegistryStorageVolumesCreateRequestBody":{"title":"SpinRegistryStorageVolumesCreateRequestBody","type":"object","properties":{"name":{"type":"string","description":"name of volume","example":"Quidem sit facilis."},"path":{"type":"string","description":"path to volume","example":"Cum repudiandae veniam vel."}},"example":{"name":"Quae at sed necessitatibus et.","path":"Earum hic sequi."},"required":["name","path"]},"SpinRegistryStorageVolumesDeleteRequestBody":{"title":"SpinRegistryStorageVolumesDeleteRequestBody","type":"object","properties":{"name":{"type":"string","description":"name of volume","example":"Animi fugiat excepturi sed."}},"example":{"name":"Aut tempore aliquam."},"required":["name"]},"SpinRegistryVMUpdateRequestBody":{"title":"SpinRegistryVMUpdateRequestBody","type":"object","properties":{"vm":{"description":"vm to update","example":"Perspiciatis in."}},"example":{"vm":"Delectus sequi temporibus repudiandae inventore cupiditate commodi."},"required":["vm"]}}}