{"swagger":"2.0","info":{"title":"Spin API service","description":"HTTP service for controlling the spin service","version":""},"host":"localhost:8080","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/add/{id}":{"post":{"tags":["spin-broker"],"summary":"add spin-broker","description":"Add a command to the package","operationId":"spin-broker#add","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"},{"name":"AddRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerAddRequestBody","required":["resource","action"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/complete":{"post":{"tags":["spin-broker"],"summary":"complete spin-broker","description":"Mark a command as completed with a result status","operationId":"spin-broker#complete","parameters":[{"name":"CompleteRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerCompleteRequestBody","required":["id","status"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/enqueue/{id}":{"post":{"tags":["spin-broker"],"summary":"enqueue spin-broker","description":"Enqueue the package into the various resource queues","operationId":"spin-broker#enqueue","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Quis aut quis vel."}}}},"schemes":["http"]}},"/new":{"post":{"tags":["spin-broker"],"summary":"new spin-broker","description":"Create a new package; a collection of items to join into the queue simultaneously","operationId":"spin-broker#new","responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/next/{resource}":{"get":{"tags":["spin-broker"],"summary":"next spin-broker","description":"Get the next command for a given resource","operationId":"spin-broker#next","parameters":[{"name":"resource","in":"path","description":"resource type","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerNextResponseBody","required":["uuid","resource","action"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerNextRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/status/{id}":{"get":{"tags":["spin-broker"],"summary":"status spin-broker","description":"Get the status for a package","operationId":"spin-broker#status","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerStatusResponseBody","required":["status"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerStatusRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/storage/images/create":{"post":{"tags":["spin-registry"],"summary":"storage/images/create spin-registry","description":"add an image definition to the registry","operationId":"spin-registry#storage/images/create","parameters":[{"name":"Storage/Images/CreateRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageImagesCreateRequestBody","required":["volume","image"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/images/delete":{"post":{"tags":["spin-registry"],"summary":"storage/images/delete spin-registry","description":"remove an image definition from the registry","operationId":"spin-registry#storage/images/delete","parameters":[{"name":"Storage/Images/DeleteRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageImagesDeleteRequestBody","required":["volume_name","image_name"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/images/get":{"get":{"tags":["spin-registry"],"summary":"storage/images/get spin-registry","description":"retrieves an image definition from the registry","operationId":"spin-registry#storage/images/get","parameters":[{"name":"Storage/Images/GetRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageImagesGetRequestBody","required":["volume_name","image_name"]}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinRegistryStorageImagesGetResponseBody","required":["volume","image"]}}},"schemes":["http"]}},"/storage/images/list":{"get":{"tags":["spin-registry"],"summary":"storage/images/list spin-registry","description":"list all images by volume","operationId":"spin-registry#storage/images/list","parameters":[{"name":"Storage/Images/ListRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageImagesListRequestBody","required":["volume_name"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Quibusdam error dolorem."}}}},"schemes":["http"]}},"/storage/volumes/create":{"post":{"tags":["spin-registry"],"summary":"storage/volumes/create spin-registry","description":"create a new volume","operationId":"spin-registry#storage/volumes/create","parameters":[{"name":"Storage/Volumes/CreateRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageVolumesCreateRequestBody","required":["name"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volumes/delete":{"post":{"tags":["spin-registry"],"summary":"storage/volumes/delete spin-registry","description":"delete an existing volume","operationId":"spin-registry#storage/volumes/delete","parameters":[{"name":"Storage/Volumes/DeleteRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryStorageVolumesDeleteRequestBody","required":["name"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volumes/list":{"get":{"tags":["spin-registry"],"summary":"storage/volumes/list spin-registry","description":"list all volumes","operationId":"spin-registry#storage/volumes/list","responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Est totam quasi eligendi quod."}}}},"schemes":["http"]}},"/vm/create":{"post":{"tags":["spin-registry"],"summary":"vm/create spin-registry","description":"Create a VM","operationId":"spin-registry#vm/create","parameters":[{"name":"Vm/CreateRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryVMCreateRequestBody","required":["name","cpus","memory","storage"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"integer","format":"int64"}}},"schemes":["http"]}},"/vm/delete/{id}":{"post":{"tags":["spin-registry"],"summary":"vm/delete spin-registry","description":"Delete a VM by ID","operationId":"spin-registry#vm/delete","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/vm/get/{id}":{"get":{"tags":["spin-registry"],"summary":"vm/get spin-registry","description":"Retrieve a VM by ID","operationId":"spin-registry#vm/get","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinRegistryVMGetResponseBody","required":["name","cpus","memory","storage"]}}},"schemes":["http"]}},"/vm/list":{"get":{"tags":["spin-registry"],"summary":"vm/list spin-registry","description":"Retrieve all VM IDs","operationId":"spin-registry#vm/list","responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"integer","example":6242776563299468417,"format":"int64"}}}},"schemes":["http"]}},"/vm/update/{id}":{"post":{"tags":["spin-registry"],"summary":"vm/update spin-registry","description":"Update a VM","operationId":"spin-registry#vm/update","parameters":[{"name":"id","in":"path","description":"ID of VM to update","required":true,"type":"integer"},{"name":"Vm/UpdateRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryVMUpdateRequestBody","required":["vm"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}}},"definitions":{"SpinBrokerAddRequestBody":{"title":"SpinBrokerAddRequestBody","type":"object","properties":{"action":{"type":"string","description":"Action name","example":"In ipsa enim non maxime est."},"parameters":{"type":"object","description":"Action parameters","example":{"Amet et id.":"Alias vel.","Reprehenderit vitae.":"Aut adipisci."},"additionalProperties":true},"resource":{"type":"string","description":"Resource name","example":"Rerum asperiores corporis aut."}},"example":{"action":"Et ipsa.","parameters":{"Aliquam sit necessitatibus pariatur quam.":"Velit ut ea excepturi.","Facilis ad quod.":"Quia facere.","Sunt nesciunt natus dolorem.":"Vel tempora est."},"resource":"Vitae cupiditate veniam atque accusamus."},"required":["resource","action"]},"SpinBrokerCompleteRequestBody":{"title":"SpinBrokerCompleteRequestBody","type":"object","properties":{"id":{"type":"string","description":"Command ID","example":"Laborum sint aut dolores atque excepturi ut."},"status":{"type":"boolean","description":"status of work","example":true},"status_reason":{"type":"string","description":"reason of success/failure","example":"Ea deleniti facilis enim autem."}},"example":{"id":"Sunt ut.","status":true,"status_reason":"Ut ex molestiae quod distinctio voluptatibus."},"required":["id","status"]},"SpinBrokerNextRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"next_record_not_found_response_body result type (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerNextResponseBody":{"title":"SpinBrokerNextResponseBody","type":"object","properties":{"action":{"type":"string","description":"action name","example":"Qui laborum."},"parameters":{"type":"object","description":"Action parameters","example":{"Impedit laboriosam et dolorum tempora inventore officia.":"Ipsam dicta accusantium.","In ea natus tempore.":"Laudantium consectetur assumenda soluta.","Provident esse laboriosam sapiente ut sint.":"Quod tempora consequatur ut."},"additionalProperties":true},"resource":{"type":"string","description":"resource type","example":"Nostrum qui perferendis rerum molestias."},"uuid":{"type":"string","description":"Command ID","example":"Iure qui voluptas."}},"example":{"action":"Molestiae quaerat.","parameters":{"Aut sit a quas velit.":"Rerum illo ratione totam quia.","Autem ab delectus.":"Magnam ex natus dicta aliquid sint.","Sint ut facilis nobis quo.":"Iusto non quae."},"resource":"Accusamus beatae nihil.","uuid":"Eaque neque."},"required":["uuid","resource","action"]},"SpinBrokerStatusRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"status_record_not_found_response_body result type (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":false},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerStatusResponseBody":{"title":"SpinBrokerStatusResponseBody","type":"object","properties":{"causer":{"type":"string","description":"Failure causer as UUID (if any)","example":"Sed quae ea."},"reason":{"type":"string","description":"Failure reason (if any)","example":"Fugit incidunt tempora."},"status":{"type":"boolean","description":"Pass/Fail status","example":true}},"example":{"causer":"Hic expedita.","reason":"Voluptate voluptas rerum mollitia.","status":false},"required":["status"]},"SpinRegistryStorageImagesCreateRequestBody":{"title":"SpinRegistryStorageImagesCreateRequestBody","type":"object","properties":{"cdrom":{"type":"boolean","description":"Is this image a cdrom?","example":false},"image":{"type":"string","description":"Image filename, must not include `/`","example":"Veritatis quos reiciendis et quisquam."},"image_size":{"type":"integer","description":"Image size (in gigabytes)","example":3606296028121108842,"format":"int64"},"volume":{"type":"string","description":"Volume name, must not include `/`","example":"Consectetur commodi."}},"example":{"cdrom":false,"image":"Voluptatem qui explicabo quaerat officiis voluptatum deleniti.","image_size":16371545999011268138,"volume":"Voluptate et in animi."},"required":["volume","image"]},"SpinRegistryStorageImagesDeleteRequestBody":{"title":"SpinRegistryStorageImagesDeleteRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"name of image","example":"Et recusandae nobis nisi."},"volume_name":{"type":"string","description":"name of volume","example":"Omnis sed qui sint delectus."}},"example":{"image_name":"Qui recusandae.","volume_name":"Nihil tempora eum officiis sit quis itaque."},"required":["volume_name","image_name"]},"SpinRegistryStorageImagesGetRequestBody":{"title":"SpinRegistryStorageImagesGetRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"name of image","example":"Sequi temporibus."},"volume_name":{"type":"string","description":"name of volume","example":"Voluptate voluptas perspiciatis in inventore."}},"example":{"image_name":"Deleniti cum repudiandae veniam vel provident.","volume_name":"Inventore cupiditate commodi aut asperiores quidem sit."},"required":["volume_name","image_name"]},"SpinRegistryStorageImagesGetResponseBody":{"title":"SpinRegistryStorageImagesGetResponseBody","type":"object","properties":{"cdrom":{"type":"boolean","description":"Is this image a cdrom?","example":false},"image":{"type":"string","description":"Image filename, must not include `/`","example":"Accusantium consequuntur."},"image_size":{"type":"integer","description":"Image size (in gigabytes)","example":7825719430568069293,"format":"int64"},"volume":{"type":"string","description":"Volume name, must not include `/`","example":"Blanditiis repudiandae."}},"example":{"cdrom":true,"image":"Reiciendis autem exercitationem accusamus esse.","image_size":14672973190467009604,"volume":"Sed molestias deserunt dicta."},"required":["volume","image"]},"SpinRegistryStorageImagesListRequestBody":{"title":"SpinRegistryStorageImagesListRequestBody","type":"object","properties":{"volume_name":{"type":"string","description":"name of volume to list images for","example":"Et aperiam impedit autem optio ut."}},"example":{"volume_name":"Numquam provident occaecati animi."},"required":["volume_name"]},"SpinRegistryStorageVolumesCreateRequestBody":{"title":"SpinRegistryStorageVolumesCreateRequestBody","type":"object","properties":{"name":{"type":"string","description":"name of volume","example":"Sed cum."}},"example":{"name":"Voluptatem culpa unde ut."},"required":["name"]},"SpinRegistryStorageVolumesDeleteRequestBody":{"title":"SpinRegistryStorageVolumesDeleteRequestBody","type":"object","properties":{"name":{"type":"string","description":"name of volume","example":"Aut ut illum."}},"example":{"name":"Repudiandae eos."},"required":["name"]},"SpinRegistryVMCreateRequestBody":{"title":"SpinRegistryVMCreateRequestBody","type":"object","properties":{"cpus":{"type":"integer","description":"CPU count","example":9822952823357733210,"format":"int64"},"memory":{"type":"integer","description":"Memory (in megabytes)","example":6817438196856585744,"format":"int64"},"name":{"type":"string","description":"Name of VM; does not need to be unique","example":"Itaque non quis quae."},"storage":{"type":"array","items":{"$ref":"#/definitions/StorageRequestBody"},"description":"Storage references","example":[{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."},{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."}]}},"example":{"cpus":18096405534508380588,"memory":13483118564243353270,"name":"Beatae itaque.","storage":[{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."},{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."},{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."},{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."}]},"required":["name","cpus","memory","storage"]},"SpinRegistryVMGetResponseBody":{"title":"SpinRegistryVMGetResponseBody","type":"object","properties":{"cpus":{"type":"integer","description":"CPU count","example":2177811034852891266,"format":"int64"},"memory":{"type":"integer","description":"Memory (in megabytes)","example":10396896588555547173,"format":"int64"},"name":{"type":"string","description":"Name of VM; does not need to be unique","example":"Deleniti voluptate qui ea qui omnis."},"storage":{"type":"array","items":{"$ref":"#/definitions/StorageResponseBody"},"description":"Storage references","example":[{"cdrom":true,"image":"Magnam molestiae.","image_size":14995889596905782688,"volume":"Quo exercitationem."},{"cdrom":true,"image":"Magnam molestiae.","image_size":14995889596905782688,"volume":"Quo exercitationem."}]}},"example":{"cpus":6875004001628868721,"memory":2110699203654829006,"name":"Aspernatur reprehenderit qui sit nihil libero.","storage":[{"cdrom":true,"image":"Magnam molestiae.","image_size":14995889596905782688,"volume":"Quo exercitationem."},{"cdrom":true,"image":"Magnam molestiae.","image_size":14995889596905782688,"volume":"Quo exercitationem."}]},"required":["name","cpus","memory","storage"]},"SpinRegistryVMUpdateRequestBody":{"title":"SpinRegistryVMUpdateRequestBody","type":"object","properties":{"vm":{"$ref":"#/definitions/VMRequestBody"}},"example":{"vm":{"cpus":4401059399380998654,"memory":17258654746333052904,"name":"Illum omnis suscipit illum repellendus.","storage":[{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."},{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."}]}},"required":["vm"]},"StorageRequestBody":{"title":"StorageRequestBody","type":"object","properties":{"cdrom":{"type":"boolean","description":"Is this image a cdrom?","example":true},"image":{"type":"string","description":"Image filename, must not include `/`","example":"Quos numquam recusandae ut omnis laboriosam."},"image_size":{"type":"integer","description":"Image size (in gigabytes)","example":5303710057253650101,"format":"int64"},"volume":{"type":"string","description":"Volume name, must not include `/`","example":"Sunt minima saepe architecto cum."}},"example":{"cdrom":false,"image":"Consectetur nihil omnis.","image_size":4727890621428056390,"volume":"Non voluptate est."},"required":["volume","image"]},"StorageResponseBody":{"title":"StorageResponseBody","type":"object","properties":{"cdrom":{"type":"boolean","description":"Is this image a cdrom?","example":true},"image":{"type":"string","description":"Image filename, must not include `/`","example":"Quas aliquam sit quaerat."},"image_size":{"type":"integer","description":"Image size (in gigabytes)","example":13139907858509298089,"format":"int64"},"volume":{"type":"string","description":"Volume name, must not include `/`","example":"Vel vel enim ut voluptas."}},"example":{"cdrom":true,"image":"Adipisci et provident.","image_size":3165228496034042905,"volume":"Cupiditate perspiciatis voluptas quia."},"required":["volume","image"]},"VMRequestBody":{"title":"VMRequestBody","type":"object","properties":{"cpus":{"type":"integer","description":"CPU count","example":7607095544095507179,"format":"int64"},"memory":{"type":"integer","description":"Memory (in megabytes)","example":3554456819816378797,"format":"int64"},"name":{"type":"string","description":"Name of VM; does not need to be unique","example":"Quae est velit eaque mollitia."},"storage":{"type":"array","items":{"$ref":"#/definitions/StorageRequestBody"},"description":"Storage references","example":[{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."},{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."},{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."}]}},"example":{"cpus":6053967843912387261,"memory":7763330022071383752,"name":"Qui architecto.","storage":[{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."},{"cdrom":false,"image":"Soluta voluptatem minima natus.","image_size":8595411673148470411,"volume":"Itaque tenetur labore quia distinctio aperiam."}]},"required":["name","cpus","memory","storage"]}}}