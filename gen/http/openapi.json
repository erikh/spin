{"swagger":"2.0","info":{"title":"Spin API service","description":"HTTP service for controlling the spin service","version":""},"host":"localhost:8080","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/add/{id}":{"post":{"tags":["spin-broker"],"summary":"add spin-broker","description":"Add a command to the package","operationId":"spin-broker#add","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"},{"name":"AddRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerAddRequestBody","required":["resource","action"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/complete":{"post":{"tags":["spin-broker"],"summary":"complete spin-broker","description":"Mark a command as completed with a result status","operationId":"spin-broker#complete","parameters":[{"name":"CompleteRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinBrokerCompleteRequestBody","required":["id","status"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/create":{"post":{"tags":["spin-registry"],"summary":"create spin-registry","description":"Create a VM","operationId":"spin-registry#create","parameters":[{"name":"CreateRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryCreateRequestBody","required":["name","cpus","memory","storage"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"integer","format":"int64"}}},"schemes":["http"]}},"/delete/{id}":{"post":{"tags":["spin-registry"],"summary":"delete spin-registry","description":"Delete a VM by ID","operationId":"spin-registry#delete","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/enqueue/{id}":{"post":{"tags":["spin-broker"],"summary":"enqueue spin-broker","description":"Enqueue the package into the various resource queues","operationId":"spin-broker#enqueue","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Illo ratione totam."}}}},"schemes":["http"]}},"/get/{id}":{"get":{"tags":["spin-registry"],"summary":"get spin-registry","description":"Retrieve a VM by ID","operationId":"spin-registry#get","parameters":[{"name":"id","in":"path","description":"ID of VM to remove","required":true,"type":"integer"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinRegistryGetResponseBody","required":["name","cpus","memory","storage"]}}},"schemes":["http"]}},"/list":{"get":{"tags":["spin-registry"],"summary":"list spin-registry","description":"Retrieve all VM IDs","operationId":"spin-registry#list","responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"integer","example":13238334249407294809,"format":"int64"}}}},"schemes":["http"]}},"/new":{"post":{"tags":["spin-broker"],"summary":"new spin-broker","description":"Create a new package; a collection of items to join into the queue simultaneously","operationId":"spin-broker#new","responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}},"/next/{resource}":{"get":{"tags":["spin-broker"],"summary":"next spin-broker","description":"Get the next command for a given resource","operationId":"spin-broker#next","parameters":[{"name":"resource","in":"path","description":"resource type","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerNextResponseBody","required":["uuid","resource","action"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerNextRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/status/{id}":{"get":{"tags":["spin-broker"],"summary":"status spin-broker","description":"Get the status for a package","operationId":"spin-broker#status","parameters":[{"name":"id","in":"path","description":"Package ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/SpinBrokerStatusResponseBody","required":["status"]}},"400":{"description":"No records were found","schema":{"$ref":"#/definitions/SpinBrokerStatusRecordNotFoundResponseBody"}}},"schemes":["http"]}},"/storage/volume/add":{"post":{"tags":["spin-apiserver"],"summary":"add_volume spin-apiserver","description":"Add a volume for image allocation with backing storage, and name it","operationId":"spin-apiserver#add_volume","parameters":[{"name":"add_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverAddVolumeRequestBody","required":["volume","path"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/create":{"post":{"tags":["spin-apiserver"],"summary":"create_image_on_volume spin-apiserver","description":"Create an image on a volume","operationId":"spin-apiserver#create_image_on_volume","parameters":[{"name":"create_image_on_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverCreateImageOnVolumeRequestBody","required":["image_name","image_size","volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/delete":{"post":{"tags":["spin-apiserver"],"summary":"delete_image_on_volume spin-apiserver","description":"Delete an image on a volume","operationId":"spin-apiserver#delete_image_on_volume","parameters":[{"name":"delete_image_on_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverDeleteImageOnVolumeRequestBody","required":["image_name","volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/info/{volume}/{image_name}":{"get":{"tags":["spin-apiserver"],"summary":"info_image_on_volume spin-apiserver","description":"Obtain information on an image","operationId":"spin-apiserver#info_image_on_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"},{"name":"image_name","in":"path","description":"image name","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/move":{"post":{"tags":["spin-apiserver"],"summary":"move_image spin-apiserver","description":"Move an image from one volume to another","operationId":"spin-apiserver#move_image","parameters":[{"name":"move_image_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverMoveImageRequestBody","required":["image_name","volume","target_volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/image/resize":{"post":{"tags":["spin-apiserver"],"summary":"resize_image_on_volume spin-apiserver","description":"Resize an image on a volume","operationId":"spin-apiserver#resize_image_on_volume","parameters":[{"name":"resize_image_on_volume_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinApiserverResizeImageOnVolumeRequestBody","required":["image_name","image_size","volume"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/info/{volume}":{"get":{"tags":["spin-apiserver"],"summary":"info_volume spin-apiserver","description":"Get information on a volume","operationId":"spin-apiserver#info_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/storage/volume/remove/{volume}":{"post":{"tags":["spin-apiserver"],"summary":"remove_volume spin-apiserver","description":"Remove a volume. Requires all images to be removed.","operationId":"spin-apiserver#remove_volume","parameters":[{"name":"volume","in":"path","description":"volume identifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}},"/update/{id}":{"post":{"tags":["spin-registry"],"summary":"update spin-registry","description":"Update a VM","operationId":"spin-registry#update","parameters":[{"name":"id","in":"path","description":"ID of VM to update","required":true,"type":"integer"},{"name":"UpdateRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SpinRegistryUpdateRequestBody","required":["vm"]}}],"responses":{"200":{"description":"OK response."}},"schemes":["http"]}}},"definitions":{"SpinApiserverAddVolumeRequestBody":{"title":"SpinApiserverAddVolumeRequestBody","type":"object","properties":{"path":{"type":"string","description":"path to backing storage","example":"Sit ratione molestiae asperiores ut."},"volume":{"type":"string","description":"volume identifier","example":"Nihil autem dolorem soluta quisquam."}},"example":{"path":"Et quis quidem.","volume":"Explicabo sit ab."},"required":["volume","path"]},"SpinApiserverCreateImageOnVolumeRequestBody":{"title":"SpinApiserverCreateImageOnVolumeRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Numquam rerum asperiores corporis aut."},"image_size":{"type":"integer","description":"image size in GB","example":1235757894805898603,"format":"int64"},"volume":{"type":"string","description":"volume identifier","example":"Ipsa enim non maxime est."}},"example":{"image_name":"Quia reprehenderit vitae.","image_size":3646417082302603797,"volume":"Adipisci recusandae amet et id et."},"required":["image_name","image_size","volume"]},"SpinApiserverDeleteImageOnVolumeRequestBody":{"title":"SpinApiserverDeleteImageOnVolumeRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Vel ratione vitae cupiditate veniam."},"volume":{"type":"string","description":"volume identifier","example":"Accusamus velit et ipsa at."}},"example":{"image_name":"Aliquam sit necessitatibus pariatur quam.","volume":"Velit ut ea excepturi."},"required":["image_name","volume"]},"SpinApiserverMoveImageRequestBody":{"title":"SpinApiserverMoveImageRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Incidunt tempora temporibus sed quae ea."},"target_volume":{"type":"string","description":"volume identifier to move to","example":"Mollitia eius hic."},"volume":{"type":"string","description":"volume identifier","example":"Tempore voluptate voluptas."}},"example":{"image_name":"Ut nulla et cum consequatur in.","target_volume":"Nostrum qui perferendis rerum molestias.","volume":"Iure qui voluptas."},"required":["image_name","volume","target_volume"]},"SpinApiserverResizeImageOnVolumeRequestBody":{"title":"SpinApiserverResizeImageOnVolumeRequestBody","type":"object","properties":{"image_name":{"type":"string","description":"image name","example":"Facilis ad quod."},"image_size":{"type":"integer","description":"new image size; must be larger than original size","example":3125227826537767074,"format":"int64"},"volume":{"type":"string","description":"volume identifier","example":"Facere quasi sunt nesciunt natus dolorem nemo."}},"example":{"image_name":"Tempora est optio.","image_size":13303670365638246896,"volume":"Quis vel officia vel."},"required":["image_name","image_size","volume"]},"SpinBrokerAddRequestBody":{"title":"SpinBrokerAddRequestBody","type":"object","properties":{"action":{"type":"string","description":"Action name","example":"Qui provident."},"parameters":{"type":"object","description":"Action parameters","example":{"Impedit laboriosam et dolorum tempora inventore officia.":"Ipsam dicta accusantium.","In ea natus tempore.":"Laudantium consectetur assumenda soluta.","Sapiente ut.":"Officia quod tempora consequatur ut."},"additionalProperties":true},"resource":{"type":"string","description":"Resource name","example":"Qui laborum."}},"example":{"action":"Accusamus beatae nihil.","parameters":{"Natus dicta aliquid.":"Provident sint ut facilis.","Quaerat consequatur nemo.":"Ab delectus amet magnam.","Quo quaerat iusto non.":"Et aut sit a quas velit adipisci."},"resource":"Eaque neque."},"required":["resource","action"]},"SpinBrokerCompleteRequestBody":{"title":"SpinBrokerCompleteRequestBody","type":"object","properties":{"id":{"type":"string","description":"Command ID","example":"Et vel."},"status":{"type":"boolean","description":"status of work","example":true},"status_reason":{"type":"string","description":"reason of success/failure","example":"Ut voluptas ullam quas aliquam sit quaerat."}},"example":{"id":"Molestiae dolor cupiditate perspiciatis voluptas quia.","status":false,"status_reason":"Et provident."},"required":["id","status"]},"SpinBrokerNextRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"next_record_not_found_response_body result type (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":false},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerNextResponseBody":{"title":"SpinBrokerNextResponseBody","type":"object","properties":{"action":{"type":"string","description":"action name","example":"Minima saepe architecto."},"parameters":{"type":"object","description":"Action parameters","example":{"Quos numquam recusandae ut omnis laboriosam.":"Odio excepturi non voluptate est qui."},"additionalProperties":true},"resource":{"type":"string","description":"resource type","example":"Quis quae nihil accusantium laboriosam."},"uuid":{"type":"string","description":"Command ID","example":"Ex molestiae quod distinctio voluptatibus sint itaque."}},"example":{"action":"Exercitationem incidunt quae est velit eaque mollitia.","parameters":{"Similique qui qui.":"Minima nemo omnis quia deleniti."},"resource":"Laboriosam beatae itaque omnis.","uuid":"Nihil omnis voluptas quia."},"required":["uuid","resource","action"]},"SpinBrokerStatusRecordNotFoundResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"status_record_not_found_response_body result type (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"SpinBrokerStatusResponseBody":{"title":"SpinBrokerStatusResponseBody","type":"object","properties":{"causer":{"type":"string","description":"Failure causer as UUID (if any)","example":"Aut dolores."},"reason":{"type":"string","description":"Failure reason (if any)","example":"Deleniti illum quod est enim aperiam laborum."},"status":{"type":"boolean","description":"Pass/Fail status","example":false}},"example":{"causer":"Deleniti facilis enim.","reason":"Ut quo ipsum.","status":false},"required":["status"]},"SpinRegistryCreateRequestBody":{"title":"SpinRegistryCreateRequestBody","type":"object","properties":{"cpus":{"type":"integer","description":"CPU count","example":18230181160547742892,"format":"int64"},"memory":{"type":"integer","description":"Memory (in megabytes)","example":11718520038058316817,"format":"int64"},"name":{"type":"string","description":"Name of VM; does not need to be unique","example":"Ea iusto modi aspernatur."},"storage":{"type":"array","items":{"$ref":"#/definitions/StorageRequestBody"},"description":"Storage references","example":[{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."},{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."},{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."},{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."}]}},"example":{"cpus":2435093912495375587,"memory":12975662754673422100,"name":"Nulla repudiandae eos eos.","storage":[{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."},{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."}]},"required":["name","cpus","memory","storage"]},"SpinRegistryGetResponseBody":{"title":"SpinRegistryGetResponseBody","type":"object","properties":{"cpus":{"type":"integer","description":"CPU count","example":2011045178803081635,"format":"int64"},"memory":{"type":"integer","description":"Memory (in megabytes)","example":14586320603909990216,"format":"int64"},"name":{"type":"string","description":"Name of VM; does not need to be unique","example":"Quos reiciendis et quisquam ex."},"storage":{"type":"array","items":{"$ref":"#/definitions/StorageResponseBody"},"description":"Storage references","example":[{"cdrom":true,"image":"Adipisci quia non nihil vitae nesciunt minima.","image_size":15107782813490131477,"volume":"Occaecati qui quo dolore soluta."},{"cdrom":true,"image":"Adipisci quia non nihil vitae nesciunt minima.","image_size":15107782813490131477,"volume":"Occaecati qui quo dolore soluta."},{"cdrom":true,"image":"Adipisci quia non nihil vitae nesciunt minima.","image_size":15107782813490131477,"volume":"Occaecati qui quo dolore soluta."},{"cdrom":true,"image":"Adipisci quia non nihil vitae nesciunt minima.","image_size":15107782813490131477,"volume":"Occaecati qui quo dolore soluta."}]}},"example":{"cpus":16262352467882002332,"memory":2125768767664321958,"name":"Eum officiis sit quis itaque ducimus qui.","storage":[{"cdrom":true,"image":"Adipisci quia non nihil vitae nesciunt minima.","image_size":15107782813490131477,"volume":"Occaecati qui quo dolore soluta."},{"cdrom":true,"image":"Adipisci quia non nihil vitae nesciunt minima.","image_size":15107782813490131477,"volume":"Occaecati qui quo dolore soluta."},{"cdrom":true,"image":"Adipisci quia non nihil vitae nesciunt minima.","image_size":15107782813490131477,"volume":"Occaecati qui quo dolore soluta."},{"cdrom":true,"image":"Adipisci quia non nihil vitae nesciunt minima.","image_size":15107782813490131477,"volume":"Occaecati qui quo dolore soluta."}]},"required":["name","cpus","memory","storage"]},"SpinRegistryUpdateRequestBody":{"title":"SpinRegistryUpdateRequestBody","type":"object","properties":{"vm":{"$ref":"#/definitions/VMRequestBody"}},"example":{"vm":{"cpus":8415388083871949362,"memory":15948619849308310515,"name":"Et qui fugit quis dignissimos qui.","storage":[{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."},{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."},{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."}]}},"required":["vm"]},"StorageRequestBody":{"title":"StorageRequestBody","type":"object","properties":{"cdrom":{"type":"boolean","description":"Is this image a cdrom?","example":true},"image":{"type":"string","description":"Image filename, must not include `/`","example":"Placeat exercitationem."},"image_size":{"type":"integer","description":"Image size (in gigabytes)","example":6127486979932205361,"format":"int64"},"volume":{"type":"string","description":"Volume name, must not include `/`","example":"Nihil libero libero."}},"example":{"cdrom":false,"image":"Cum sequi voluptatem culpa unde ut.","image_size":17927454746092107031,"volume":"Quasi eligendi quod voluptas."},"required":["volume","image"]},"StorageResponseBody":{"title":"StorageResponseBody","type":"object","properties":{"cdrom":{"type":"boolean","description":"Is this image a cdrom?","example":true},"image":{"type":"string","description":"Image filename, must not include `/`","example":"Qui explicabo quaerat officiis."},"image_size":{"type":"integer","description":"Image size (in gigabytes)","example":4154574823654954755,"format":"int64"},"volume":{"type":"string","description":"Volume name, must not include `/`","example":"Et in animi quos."}},"example":{"cdrom":false,"image":"Sint delectus quis et recusandae nobis.","image_size":9099737587732154848,"volume":"Possimus vero omnis sed."},"required":["volume","image"]},"VMRequestBody":{"title":"VMRequestBody","type":"object","properties":{"cpus":{"type":"integer","description":"CPU count","example":17096334616588586994,"format":"int64"},"memory":{"type":"integer","description":"Memory (in megabytes)","example":5445669612155766851,"format":"int64"},"name":{"type":"string","description":"Name of VM; does not need to be unique","example":"Et aperiam impedit autem optio ut."},"storage":{"type":"array","items":{"$ref":"#/definitions/StorageRequestBody"},"description":"Storage references","example":[{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."},{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."}]}},"example":{"cpus":6325199792409648331,"memory":14688466170333311246,"name":"Animi saepe.","storage":[{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."},{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."},{"cdrom":true,"image":"Labore voluptas perferendis ea iusto adipisci.","image_size":8351098711286704476,"volume":"Porro eius officiis."}]},"required":["name","cpus","memory","storage"]}}}